<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>RIP | 蜡笔小王的博客</title><meta name="keywords" content="网络基础"><meta name="author" content="蜡笔小王"><meta name="copyright" content="蜡笔小王"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="RIP"><meta name="application-name" content="RIP"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="RIP"><meta property="og:url" content="https://wjh0527.github.io.git/2025/09/04/RIP/index.html"><meta property="og:site_name" content="蜡笔小王的博客"><meta property="og:description" content="Web"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://wjh0527.github.io.git/assets/lbxw.jpg"><meta property="article:author" content="蜡笔小王"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://wjh0527.github.io.git/assets/lbxw.jpg"><meta name="description" content="Web"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://wjh0527.github.io.git/2025/09/04/RIP/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"每天学习亿点点","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 蜡笔小王","link":"链接: ","source":"来源: 蜡笔小王的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '蜡笔小王的博客',
  title: 'RIP',
  postAI: '',
  pageFillDescription: 'RIP（Routing Information Protocol）路由协议笔记, 一、RIP协议概述, （一）核心定义与定位, （二）关键特性, 二、RIP工作原理, （一）路由表的形成过程, （二）路由环路问题与解决机制, 三、RIPv1与RIPv2的核心区别, 报文格式差异补充：, 四、RIP协议配置（华为VRP系统）, （一）基础配置：RIPv2部署, 1. RTA配置（总部路由器）, 2. RTB配置（中间路由器）, 3. RTC配置（分支路由器）, （二）配置验证, 1. 查看RIP进程信息, 2. 查看RIP路由表, 3. 查看全局路由表, （三）高级配置, 1. 路由聚合（RIPv2）, 2. 接口附加度量值, 操作配置路由协议笔记一协议概述一核心定义与定位路由信息协议是一种基于距离矢量算法的内部网关协议核心通过跳数衡量路由开销适用于中小型网络如企业分支机构校园网其本质是路由器之间定期交换路由表信息动态学习到达目标网络的最优路径解决静态路由无法自动适应网络拓扑变化的问题二关键特性传输层依赖使用协议进行路由信息交互目标端口号固定为开销度量以跳数为唯一开销指标跳表示直接连接的网络最大有效跳数为跳跳及以上视为网络不可达这决定了仅适用于小规模网络避免路由环路和收敛缓慢更新机制默认每秒发送一次全量路由更新包含当前路由表所有条目若秒老化时间未收到邻居更新标记路由为不可达再等待秒垃圾回收时间后从路由表中删除该条目防环机制支持水平分割毒性逆转触发更新等技术缓解路由环路问题详见第二章版本划分分为有类别路由协议和无类别路由协议主流使用支持认证等增强功能二工作原理一路由表的形成过程的核心是邻居发现路由交换最优路径选择具体流程如下初始化阶段路由器启动后先构建直连路由表记录直接连接的网络跳数为例如路由器直连路由表中会添加直连跳数的条目邻居发现与更新发送定期秒向所有启用的接口发送路由更新报文包含直连路由邻居路由器收到后解析报文中的路由条目为每条路由添加跳因从到需跳再将这些路由加入自身的候选路由表同样会将自身的直连路由如和从学习到的路由跳数发送给其他邻居如会为这些路由再添加跳跳数变为最优路径选择路由器对到达同一目标网络的多条路由选择跳数最小的条目加入正式路由表若跳数相同默认支持最多条等价路由负载均衡路由老化与删除若某路由的老化时间秒到期路由器将其跳数标记为不可达并通过毒性逆转告知邻居垃圾回收时间秒后彻底删除该路由条目二路由环路问题与解决机制路由环路是距离矢量协议的固有风险因路由器仅依赖邻居提供的路由信息无法感知全局拓扑通过以下机制缓解最大跳数限制将最大有效跳数设为跳视为不可达避免路由在环路中无限传递如的环路跳数会不断增加达到后被标记为不可达水平分割核心原则是不向路由信息的来源接口发送该路由例如从接口收到发送的路由不会再通过接口将该路由回传给避免信息循环毒性逆转水平分割的增强机制若路由器从某接口学习到一条路由当该路由不可达时会通过原接口向邻居发送跳数的更新明确告知此路由已不可达而非沉默不发加速邻居路由表更新触发更新默认的秒全量更新是周期性更新触发更新则是事件驱动当路由状态变化如网络不可达跳数变化时立即发送更新报文无需等待周期缩短收敛时间抑制计时器当某路由被标记为不可达后启动抑制计时器默认秒期间即使收到该路由的更优更新如跳数变小也暂时不接受避免因瞬时网络波动导致路由反复切换三与的核心区别是的增强版本解决了不支持无认证等缺陷两者关键差异如下表对比维度路由类型有类别路由协议无类别路由协议支持不支持仅识别默认子网掩码如类类类支持报文中携带子网掩码可传递变长子网路由支持不支持支持可聚合路由减少路由表条目更新方式广播发送目标为默认组播发送目标为也支持广播认证功能无更新报文明文传输易被篡改支持明文认证密文认证增强安全性报文格式无子网掩码下一跳字段包含子网掩码下一跳路由标记字段信息更完整路由聚合无因不支持无类别地址无法聚合默认启用自动有类聚合如将聚合为支持手动聚合报文格式差异补充报文仅包含地址族标识地址跳数无子网掩码需依赖地址类别推断子网如默认是类掩码报文在基础上增加子网掩码下一跳路由标记字段可明确指定路由的子网信息和最优下一跳避免次优路径四协议配置华为系统以三路由器互联场景为例直连网段分别为为为介绍核心配置步骤一基础配置部署配置总部路由器进入系统视图配置接口直连网段直连的接口网段接口模拟内网网段启用进程配置版本进程号可自定义同一设备多进程需不同编号切换为默认是宣告直连网段需包含接口所在的主类网段而非子网属于主类网段属于主类网段配置中间路由器直连的接口直连的接口网段启用宣告直连网段宣告与直连的主类网段宣告与直连的主类网段配置分支路由器直连的接口接口模拟分支内网启用宣告直连网段宣告与直连的主类网段属于主类网段二配置验证查看进程信息在上执行确认版本宣告网段更新时间等参数版本为默认优先级启用自动聚合最大等价路由数更新时间秒老化时间秒垃圾回收秒已宣告的网段查看路由表在上执行确认学习到的远程路由如邻居为的接口跳数跳数查看全局路由表执行确认路由已加入全局路由表协议类型为三高级配置路由聚合默认启用自动有类聚合将子网路由聚合为主类网段若需自定义聚合范围可配置手动聚合示例在的接口将聚合为手动聚合路由关闭自动聚合如需传递子网路由如场景关闭自动有类聚合接口附加度量值通过入接口或出接口调整路由的跳数用于影响邻居的路由选择示例在的接口对接收的路由附加跳入接口方向从接收的路由跳数如原跳数示例对发送的路由附加跳出接口方向向发送的路由跳数如原跳操作配置动态路由协议距离矢量路由协议方向距离跳数工作原理路由表的形成每隔秒钟运行协议的路由器会向邻居路由器发送路由更新路由表再选择一条最优的路径放到路由表中最大跳为跳跳不可达所以路由协议只适用于小型网络解决路由环路的办法定义最大跳数水平分割向原始信息的来源方向返回路由信息毫无用处路由毒化和毒性逆转抑制计时器触发更新路由协议的版本掌握两者的区别的配置版本的配置开户进程进程号为宣告网络你连了几个就要宣告几个查看路由表的默认优先级为开销值中表示跳数跳数越小路径越优最优的路由条目会记录到路由表中修改优先级优先级大小范围为默认为接口附加度量值路由传递方向出接口版本的配置自动汇总开启自动汇总默认就是关闭自动汇总手动汇总认证配置接口上配置认证链路级证引入外部路由引入外部路由得到的开销值为过滤路由配置分发默认路由自己搞定',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-09-04 11:42:42',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/./assets/lbxw.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="安知鱼的博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="安知鱼的博客"/><span class="back-menu-item-text">安知鱼的博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">蜡笔小王的博客</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="微信" src="/null"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/null"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>1</sup></a><a href="/tags/SQL%E6%B3%A8%E5%85%A5/" style="font-size: 1.05rem;">SQL注入<sup>2</sup></a><a href="/tags/windows/" style="font-size: 1.05rem;">windows<sup>1</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">工具<sup>1</sup></a><a href="/tags/%E6%BC%8F%E6%B4%9E/" style="font-size: 1.05rem;">漏洞<sup>9</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">网络基础<sup>20</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/10/"><span class="card-archive-list-date">十月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">34</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" itemprop="url">网络基础</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>网络基础</span></a></span></div></div><h1 class="post-title" itemprop="name headline">RIP</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-09-04T03:38:46.000Z" title="发表于 2025-09-04 11:38:46">2025-09-04</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-09-04T03:42:42.439Z" title="更新于 2025-09-04 11:42:42">2025-09-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="RIP"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为成都"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>成都</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://wjh0527.github.io.git/2025/09/04/RIP/"><header><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" itemprop="url">网络基础</a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url">网络基础</a><h1 id="CrawlerTitle" itemprop="name headline">RIP</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">蜡笔小王</span><time itemprop="dateCreated datePublished" datetime="2025-09-04T03:38:46.000Z" title="发表于 2025-09-04 11:38:46">2025-09-04</time><time itemprop="dateCreated datePublished" datetime="2025-09-04T03:42:42.439Z" title="更新于 2025-09-04 11:42:42">2025-09-04</time></header><h1 id="RIP（Routing-Information-Protocol）路由协议笔记"><a href="#RIP（Routing-Information-Protocol）路由协议笔记" class="headerlink" title="RIP（Routing Information Protocol）路由协议笔记"></a>RIP（Routing Information Protocol）路由协议笔记</h1><h2 id="一、RIP协议概述"><a href="#一、RIP协议概述" class="headerlink" title="一、RIP协议概述"></a>一、RIP协议概述</h2><h3 id="（一）核心定义与定位"><a href="#（一）核心定义与定位" class="headerlink" title="（一）核心定义与定位"></a>（一）核心定义与定位</h3><p>RIP（路由信息协议）是一种基于<strong>距离矢量算法</strong>的内部网关协议（IGP），核心通过“跳数（Hop Count）”衡量路由开销，适用于中小型网络（如企业分支机构、校园网）。其本质是路由器之间定期交换路由表信息，动态学习到达目标网络的最优路径，解决静态路由无法自动适应网络拓扑变化的问题。</p>
<h3 id="（二）关键特性"><a href="#（二）关键特性" class="headerlink" title="（二）关键特性"></a>（二）关键特性</h3><ol>
<li><strong>传输层依赖</strong>：使用UDP协议进行路由信息交互，目标端口号固定为<strong>520</strong>。</li>
<li><strong>开销度量</strong>：以“跳数”为唯一开销指标，1跳表示直接连接的网络，最大有效跳数为<strong>15跳</strong>，16跳及以上视为“网络不可达”，这决定了RIP仅适用于小规模网络（避免路由环路和收敛缓慢）。</li>
<li><strong>更新机制</strong>：默认每<strong>30秒</strong>发送一次全量路由更新（包含当前路由表所有条目）；若180秒（老化时间）未收到邻居更新，标记路由为“不可达”；再等待120秒（垃圾回收时间）后，从路由表中删除该条目。</li>
<li><strong>防环机制</strong>：支持水平分割、毒性逆转、触发更新等技术，缓解路由环路问题（详见第二章）。</li>
<li><strong>版本划分</strong>：分为RIPv1（有类别路由协议）和RIPv2（无类别路由协议），主流使用RIPv2（支持VLSM、认证等增强功能）。</li>
</ol>
<h2 id="二、RIP工作原理"><a href="#二、RIP工作原理" class="headerlink" title="二、RIP工作原理"></a>二、RIP工作原理</h2><h3 id="（一）路由表的形成过程"><a href="#（一）路由表的形成过程" class="headerlink" title="（一）路由表的形成过程"></a>（一）路由表的形成过程</h3><p>RIP的核心是“邻居发现-路由交换-最优路径选择”，具体流程如下：</p>
<ol>
<li><strong>初始化阶段</strong>：路由器启动后，先构建“直连路由表”（记录直接连接的网络，跳数为0），例如路由器RTA直连192.168.1.0&#x2F;24，路由表中会添加“192.168.1.0&#x2F;24 → 直连 → 跳数0”的条目。</li>
<li><strong>邻居发现与更新发送</strong>：<ul>
<li>RTA定期（30秒）向所有启用RIP的接口发送“路由更新报文”（包含直连路由），邻居路由器RTB收到后，解析报文中的路由条目，为每条路由添加1跳（因从RTA到RTB需1跳），再将这些路由加入自身的“候选路由表”。</li>
<li>RTB同样会将自身的直连路由（如192.168.2.0&#x2F;24）和从RTA学习到的路由（192.168.1.0&#x2F;24，跳数1）发送给其他邻居（如RTC），RTC会为这些路由再添加1跳（跳数变为2）。</li>
</ul>
</li>
<li><strong>最优路径选择</strong>：路由器对到达同一目标网络的多条路由，选择“跳数最小”的条目加入正式路由表；若跳数相同，默认支持最多6条等价路由（负载均衡）。</li>
<li><strong>路由老化与删除</strong>：若某路由的老化时间（180秒）到期，路由器将其跳数标记为16（不可达），并通过“毒性逆转”告知邻居；垃圾回收时间（120秒）后，彻底删除该路由条目。</li>
</ol>
<h3 id="（二）路由环路问题与解决机制"><a href="#（二）路由环路问题与解决机制" class="headerlink" title="（二）路由环路问题与解决机制"></a>（二）路由环路问题与解决机制</h3><p>路由环路是距离矢量协议的固有风险（因路由器仅依赖邻居提供的路由信息，无法感知全局拓扑），RIP通过以下机制缓解：</p>
<ol>
<li><strong>最大跳数限制</strong>：将最大有效跳数设为15，16跳视为不可达，避免路由在环路中无限传递（如A→B→C→A的环路，跳数会不断增加，达到16后被标记为不可达）。</li>
<li><strong>水平分割（Split Horizon）</strong>：核心原则是“不向路由信息的来源接口发送该路由”。例如RTB从S0&#x2F;0&#x2F;0接口收到RTA发送的192.168.1.0&#x2F;24路由，不会再通过S0&#x2F;0&#x2F;0接口将该路由回传给RTA，避免信息循环。</li>
<li><strong>毒性逆转（Poison Reverse）</strong>：水平分割的增强机制，若路由器从某接口学习到一条路由，当该路由不可达时，会通过原接口向邻居发送“跳数16”的更新（明确告知“此路由已不可达”），而非沉默不发，加速邻居路由表更新。</li>
<li><strong>触发更新（Triggered Updates）</strong>：默认的30秒全量更新是“周期性更新”，触发更新则是“事件驱动”——当路由状态变化（如网络不可达、跳数变化）时，立即发送更新报文，无需等待周期，缩短收敛时间。</li>
<li><strong>抑制计时器（Hold-Down Timer）</strong>：当某路由被标记为不可达后，启动抑制计时器（默认180秒），期间即使收到该路由的更优更新（如跳数变小），也暂时不接受，避免因瞬时网络波动导致路由反复切换。</li>
</ol>
<h2 id="三、RIPv1与RIPv2的核心区别"><a href="#三、RIPv1与RIPv2的核心区别" class="headerlink" title="三、RIPv1与RIPv2的核心区别"></a>三、RIPv1与RIPv2的核心区别</h2><p>RIPv2是RIPv1的增强版本，解决了RIPv1不支持VLSM、无认证等缺陷，两者关键差异如下表：</p>
<table>
<thead>
<tr>
<th>对比维度</th>
<th>RIPv1</th>
<th>RIPv2</th>
</tr>
</thead>
<tbody><tr>
<td>路由类型</td>
<td>有类别路由协议（Classful）</td>
<td>无类别路由协议（Classless）</td>
</tr>
<tr>
<td>VLSM支持</td>
<td>不支持（仅识别默认子网掩码，如A类&#x2F;8、B类&#x2F;16、C类&#x2F;24）</td>
<td>支持（报文中携带子网掩码，可传递变长子网路由）</td>
</tr>
<tr>
<td>CIDR支持</td>
<td>不支持</td>
<td>支持（可聚合路由，减少路由表条目）</td>
</tr>
<tr>
<td>更新方式</td>
<td>广播发送（目标MAC为FF-FF-FF-FF-FF-FF）</td>
<td>默认组播发送（目标IP为224.0.0.9），也支持广播</td>
</tr>
<tr>
<td>认证功能</td>
<td>无（更新报文明文传输，易被篡改）</td>
<td>支持（明文认证、MD5密文认证，增强安全性）</td>
</tr>
<tr>
<td>报文格式</td>
<td>无“子网掩码”“下一跳”字段</td>
<td>包含“子网掩码”“下一跳”“路由标记”字段，信息更完整</td>
</tr>
<tr>
<td>路由聚合</td>
<td>无（因不支持无类别地址，无法聚合）</td>
<td>默认启用“自动有类聚合”（如将172.16.1.0&#x2F;24聚合为172.16.0.0&#x2F;16），支持手动聚合</td>
</tr>
</tbody></table>
<h4 id="报文格式差异补充："><a href="#报文格式差异补充：" class="headerlink" title="报文格式差异补充："></a>报文格式差异补充：</h4><ul>
<li><strong>RIPv1报文</strong>：仅包含“地址族标识（AFI）”“IP地址”“跳数”，无子网掩码，需依赖IP地址类别推断子网（如192.168.1.0默认是C类，掩码255.255.255.0）。</li>
<li><strong>RIPv2报文</strong>：在RIPv1基础上增加“子网掩码”（Subnet Mask）、“下一跳”（Next Hop）、“路由标记”（Route Tag）字段，可明确指定路由的子网信息和最优下一跳，避免次优路径。</li>
</ul>
<h2 id="四、RIP协议配置（华为VRP系统）"><a href="#四、RIP协议配置（华为VRP系统）" class="headerlink" title="四、RIP协议配置（华为VRP系统）"></a>四、RIP协议配置（华为VRP系统）</h2><p>以“三路由器互联”场景为例（RTA→RTB→RTC，直连网段分别为192.168.1.0&#x2F;30、192.168.2.0&#x2F;30，RTA LoopBack0为172.16.1.1&#x2F;32，RTC LoopBack0为10.1.1.1&#x2F;32），介绍核心配置步骤。</p>
<h3 id="（一）基础配置：RIPv2部署"><a href="#（一）基础配置：RIPv2部署" class="headerlink" title="（一）基础配置：RIPv2部署"></a>（一）基础配置：RIPv2部署</h3><h4 id="1-RTA配置（总部路由器）"><a href="#1-RTA配置（总部路由器）" class="headerlink" title="1. RTA配置（总部路由器）"></a>1. RTA配置（总部路由器）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 进入系统视图，配置接口IP（直连网段+LoopBack）</span></span><br><span class="line">&lt;Huawei&gt; system-view</span><br><span class="line">[Huawei] sysname RTA</span><br><span class="line"><span class="comment"># 直连RTB的接口（S0/0/0）</span></span><br><span class="line">[RTA] interface Serial 0/0/0</span><br><span class="line">[RTA-Serial0/0/0] ip address 192.168.1.1 255.255.255.252  <span class="comment"># 192.168.1.0/30网段</span></span><br><span class="line">[RTA-Serial0/0/0] quit</span><br><span class="line"><span class="comment"># LoopBack接口（模拟内网网段）</span></span><br><span class="line">[RTA] interface LoopBack 0</span><br><span class="line">[RTA-LoopBack0] ip address 172.16.1.1 255.255.255.255</span><br><span class="line">[RTA-LoopBack0] quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 启用RIP进程1，配置版本2</span></span><br><span class="line">[RTA] rip 1  <span class="comment"># 进程号可自定义（1-65535），同一设备多进程需不同编号</span></span><br><span class="line">[RTA-rip-1] version 2  <span class="comment"># 切换为RIPv2（默认是RIPv1）</span></span><br><span class="line"><span class="comment"># 宣告直连网段（需包含接口IP所在的主类网段，而非子网）</span></span><br><span class="line">[RTA-rip-1] network 192.168.1.0  <span class="comment"># 192.168.1.0/30属于192.168.1.0/24主类网段</span></span><br><span class="line">[RTA-rip-1] network 172.16.0.0  <span class="comment"># 172.16.1.1/32属于172.16.0.0/16主类网段</span></span><br><span class="line">[RTA-rip-1] quit</span><br></pre></td></tr></table></figure>

<h4 id="2-RTB配置（中间路由器）"><a href="#2-RTB配置（中间路由器）" class="headerlink" title="2. RTB配置（中间路由器）"></a>2. RTB配置（中间路由器）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;Huawei&gt; system-view</span><br><span class="line">[Huawei] sysname RTB</span><br><span class="line"><span class="comment"># 直连RTA的接口（S0/0/0）</span></span><br><span class="line">[RTB] interface Serial 0/0/0</span><br><span class="line">[RTB-Serial0/0/0] ip address 192.168.1.2 255.255.255.252</span><br><span class="line">[RTB-Serial0/0/0] quit</span><br><span class="line"><span class="comment"># 直连RTC的接口（S0/0/1）</span></span><br><span class="line">[RTB] interface Serial 0/0/1</span><br><span class="line">[RTB-Serial0/0/1] ip address 192.168.2.1 255.255.255.252  <span class="comment"># 192.168.2.0/30网段</span></span><br><span class="line">[RTB-Serial0/0/1] quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用RIPv2，宣告直连网段</span></span><br><span class="line">[RTB] rip 1</span><br><span class="line">[RTB-rip-1] version 2</span><br><span class="line">[RTB-rip-1] network 192.168.1.0  <span class="comment"># 宣告与RTA直连的主类网段</span></span><br><span class="line">[RTB-rip-1] network 192.168.2.0  <span class="comment"># 宣告与RTC直连的主类网段</span></span><br><span class="line">[RTB-rip-1] quit</span><br></pre></td></tr></table></figure>

<h4 id="3-RTC配置（分支路由器）"><a href="#3-RTC配置（分支路由器）" class="headerlink" title="3. RTC配置（分支路由器）"></a>3. RTC配置（分支路由器）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;Huawei&gt; system-view</span><br><span class="line">[Huawei] sysname RTC</span><br><span class="line"><span class="comment"># 直连RTB的接口（S0/0/0）</span></span><br><span class="line">[RTC] interface Serial 0/0/0</span><br><span class="line">[RTC-Serial0/0/0] ip address 192.168.2.2 255.255.255.252</span><br><span class="line">[RTC-Serial0/0/0] quit</span><br><span class="line"><span class="comment"># LoopBack接口（模拟分支内网）</span></span><br><span class="line">[RTC] interface LoopBack 0</span><br><span class="line">[RTC-LoopBack0] ip address 10.1.1.1 255.255.255.255</span><br><span class="line">[RTC-LoopBack0] quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用RIPv2，宣告直连网段</span></span><br><span class="line">[RTC] rip 1</span><br><span class="line">[RTC-rip-1] version 2</span><br><span class="line">[RTC-rip-1] network 192.168.2.0  <span class="comment"># 宣告与RTB直连的主类网段</span></span><br><span class="line">[RTC-rip-1] network 10.0.0.0  <span class="comment"># 10.1.1.1/32属于10.0.0.0/8主类网段</span></span><br><span class="line">[RTC-rip-1] quit</span><br></pre></td></tr></table></figure>

<h3 id="（二）配置验证"><a href="#（二）配置验证" class="headerlink" title="（二）配置验证"></a>（二）配置验证</h3><h4 id="1-查看RIP进程信息"><a href="#1-查看RIP进程信息" class="headerlink" title="1. 查看RIP进程信息"></a>1. 查看RIP进程信息</h4><p>在RTA上执行<code>display rip</code>，确认RIP版本、宣告网段、更新时间等参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[RTA] display rip</span><br><span class="line">Public VPN-instance name :     </span><br><span class="line">  RIP process : 1</span><br><span class="line">    RIP version : RIP-2      Preference : 100  <span class="comment"># 版本为RIPv2，默认优先级100</span></span><br><span class="line">    Checkzero : Enabled      Default-cost : 0</span><br><span class="line">    Summary : Enabled        Hostroutes : Enabled  <span class="comment"># 启用自动聚合</span></span><br><span class="line">    Maximum number of balanced paths : 6  <span class="comment"># 最大等价路由数6</span></span><br><span class="line">    Update <span class="keyword">time</span>   : 30 sec   Age <span class="keyword">time</span>  : 180 sec  <span class="comment"># 更新时间30秒，老化时间180秒</span></span><br><span class="line">    Suppress <span class="keyword">time</span> : 0 sec    Garbage-collect <span class="keyword">time</span> : 120 sec  <span class="comment"># 垃圾回收120秒</span></span><br><span class="line">    Silent interfaces : None Default routes : Disabled</span><br><span class="line">    Verify-<span class="built_in">source</span> : Enabled</span><br><span class="line">    Networks : </span><br><span class="line">    192.168.1.0        172.16.0.0  <span class="comment"># 已宣告的网段</span></span><br><span class="line">    Configured peers : None  Triggered updates sent : 2</span><br><span class="line">    Number of route changes : 2</span><br><span class="line">    Number of replies to queries : 1</span><br></pre></td></tr></table></figure>

<h4 id="2-查看RIP路由表"><a href="#2-查看RIP路由表" class="headerlink" title="2. 查看RIP路由表"></a>2. 查看RIP路由表</h4><p>在RTA上执行<code>display rip 1 route</code>，确认学习到的远程路由（如192.168.2.0&#x2F;30、10.1.1.1&#x2F;32）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[RTA] display rip 1 route</span><br><span class="line">Route Flags: R - RIP, T - TRIP</span><br><span class="line">            P - Permanent, A - Aging, S - Suppressed, G - Garbage-collect</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">Peer 192.168.1.2  on Serial0/0/0  <span class="comment"># 邻居为RTB的S0/0/0接口IP</span></span><br><span class="line">      Destination/Mask        Nexthop     Cost   Tag     Flags   Sec</span><br><span class="line">      192.168.2.0/30       192.168.1.2      1    0        RA      12  <span class="comment"># 跳数1</span></span><br><span class="line">      10.1.1.1/32       192.168.1.2      2    0        RA      12  <span class="comment"># 跳数2（RTA→RTB→RTC）</span></span><br></pre></td></tr></table></figure>

<h4 id="3-查看全局路由表"><a href="#3-查看全局路由表" class="headerlink" title="3. 查看全局路由表"></a>3. 查看全局路由表</h4><p>执行<code>display ip routing-table</code>，确认RIP路由已加入全局路由表（协议类型为“RIP”）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[RTA] display ip routing-table</span><br><span class="line">Routing Table: public net</span><br><span class="line">Destination/Mask  Protocol Pre Cost     Nexthop       Interface</span><br><span class="line">10.1.1.1/32       RIP      100 2       192.168.1.2   Serial0/0/0</span><br><span class="line">172.16.1.1/32     Direct   0   0       127.0.0.1     InLoopBack0</span><br><span class="line">192.168.1.0/30    Direct   0   0       192.168.1.1   Serial0/0/0</span><br><span class="line">192.168.2.0/30    RIP      100 1       192.168.1.2   Serial0/0/0</span><br></pre></td></tr></table></figure>

<h3 id="（三）高级配置"><a href="#（三）高级配置" class="headerlink" title="（三）高级配置"></a>（三）高级配置</h3><h4 id="1-路由聚合（RIPv2）"><a href="#1-路由聚合（RIPv2）" class="headerlink" title="1. 路由聚合（RIPv2）"></a>1. 路由聚合（RIPv2）</h4><p>RIPv2默认启用“自动有类聚合”（将子网路由聚合为主类网段），若需自定义聚合范围，可配置“手动聚合”：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例：在RTA的S0/0/0接口，将172.16.1.0/32、172.16.1.2/32聚合为172.16.1.0/24</span></span><br><span class="line">[RTA] interface Serial 0/0/0</span><br><span class="line">[RTA-Serial0/0/0] rip summary-address 172.16.1.0 255.255.255.0  <span class="comment"># 手动聚合路由</span></span><br><span class="line">[RTA-Serial0/0/0] quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭自动聚合（如需传递子网路由，如VLSM场景）</span></span><br><span class="line">[RTA-rip-1] undo summary  <span class="comment"># 关闭自动有类聚合</span></span><br></pre></td></tr></table></figure>

<h4 id="2-接口附加度量值"><a href="#2-接口附加度量值" class="headerlink" title="2. 接口附加度量值"></a>2. 接口附加度量值</h4><p>通过<code>metricin</code>（入接口）或<code>metricout</code>（出接口）调整路由的跳数，用于影响邻居的路由选择：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 示例：在RTA的S0/0/0接口，对接收的路由附加5跳（入接口方向）</span></span><br><span class="line">[RTA] interface Serial 0/0/0</span><br><span class="line">[RTA-Serial0/0/0] rip metricin 5  <span class="comment"># 从RTB接收的路由跳数+5（如原跳数1→6）</span></span><br><span class="line">[RTA-Serial0/0/0] quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例：对发送的路由附加4跳（出接口方向）</span></span><br><span class="line">[RTA-Serial0/0/0] rip metricout 4  <span class="comment"># 向RTB发送的路由跳数+4（如原跳</span></span><br></pre></td></tr></table></figure>



<h1 id="操作配置"><a href="#操作配置" class="headerlink" title="操作配置"></a>操作配置</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250904114159091.png" alt="image-20250904114159091"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">动态路由协议-RIP：距离矢量路由协议（方向，距离【跳数】）</span><br><span class="line">1.RIP工作原理（路由表的形成）</span><br><span class="line">  每隔30秒钟，运行RIP协议的路由器会向邻居路由器发送路由更新（路由表）</span><br><span class="line">再选择一条最优的路径放到路由表中。最大跳为15跳，16跳不可达。所以RIP</span><br><span class="line">路由协议只适用于小型网络。</span><br><span class="line">2.解决路由环路的办法</span><br><span class="line">(1)定义最大跳数（15）</span><br><span class="line">(2)水平分割:向原始信息的来源方向返回路由信息毫无用处。</span><br><span class="line">(3)路由毒化和毒性逆转</span><br><span class="line">(4)抑制计时器</span><br><span class="line">(5)触发更新</span><br><span class="line">3.RIP路由协议的版本(掌握两者的区别）</span><br><span class="line">V1:</span><br><span class="line">V2:</span><br><span class="line">4.RIP的配置：</span><br><span class="line">（1）RIP版本1的配置</span><br><span class="line">     [Huawei]rip 1  开户RIP进程，进程号为1</span><br><span class="line">     [Huawei-rip-1]network 192.168.1.0  宣告网络（你连了几个就要宣告几个）</span><br><span class="line"></span><br><span class="line">（2）查看路由表：display ip routing-table </span><br><span class="line">     RIP的默认优先级为：100</span><br><span class="line">     Cost:开销值，RIP中Cost表示跳数，跳数越小，路径越优，最优的路由条目会记录到路由表中。</span><br><span class="line"></span><br><span class="line">（3）修改优先级：优先级大小范围为1～255，默认为100</span><br><span class="line">     [RTA-rip-1] preference ?</span><br><span class="line">     INTEGER&lt;1-255&gt;  Value of Preference</span><br><span class="line"></span><br><span class="line">（4）接口附加度量值（路由传递方向出接口）：[RTA-Serial0/0/0]rip metricout 4</span><br><span class="line"> (5)RIP版本2的配置：[Huawei-rip-1]version 2</span><br><span class="line">   自动汇总：</span><br><span class="line">   [Huawei-rip-1]version 2</span><br><span class="line">   [Huawei-rip-1]summary   开启自动汇总（默认就是）</span><br><span class="line">   [Huawei-rip-1]undo summary   关闭自动汇总</span><br><span class="line">   手动汇总：[Huawei-GigabitEthernet0/0/1]rip summary-address 172.16.0.0 255.255.252.0</span><br><span class="line">(6)认证配置：接口上配置认证（链路级证）</span><br><span class="line">    [Huawei-GigabitEthernet0/0/0]rip authentication-mode simple 123456</span><br><span class="line"></span><br><span class="line">(7)引入外部路由：引入外部路由得到的开销值为11</span><br><span class="line">     [RTA-rip] import-route direct cost 1</span><br><span class="line"></span><br><span class="line">(8)过滤路由：</span><br><span class="line">    [Huawei]acl number 2000    </span><br><span class="line">    [Huawei-acl-basic-2000]rule permit source 172.16.0.0 0.0.0.255</span><br><span class="line">    [Huawei-acl-basic-2000]rule permit source 172.16.1.0 0.0.0.255</span><br><span class="line">    [Huawei-rip-1]filter-policy 2000 import g0/0/1</span><br><span class="line">(9)配置分发默认路由</span><br><span class="line">   自己搞定</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./assets/lbxw.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./assets/lbxw.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">蜡笔小王</div><div class="post-copyright__author_desc">不想学习啊！！！</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://wjh0527.github.io.git/2025/09/04/RIP/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://wjh0527.github.io.git/2025/09/04/RIP/')">RIP</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/null" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/null" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/null" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://wjh0527.github.io.git/2025/09/04/RIP/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=RIP&amp;url=https://wjh0527.github.io.git/2025/09/04/RIP/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wjh0527.github.io.git" target="_blank">蜡笔小王的博客</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>网络基础<span class="tagsPageCount">20</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/./assets/lbxw.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/09/04/ipsec%E5%92%8Cgre/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ipsec和gre</div></div></a></div><div class="next-post pull-right"><a href="/2025/09/04/OSPF/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">OSPF</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/09/03/DHCP/" title="DHCP"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-03</div><div class="title">DHCP</div></div></a></div><div><a href="/2025/09/03/Firewall/" title="Firewall"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-03</div><div class="title">Firewall</div></div></a></div><div><a href="/2025/09/03/GVRP/" title="GVRP"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-03</div><div class="title">GVRP</div></div></a></div><div><a href="/2025/09/04/OSPF/" title="OSPF"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-04</div><div class="title">OSPF</div></div></a></div><div><a href="/2025/09/03/STP/" title="STP"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-03</div><div class="title">STP</div></div></a></div><div><a href="/2025/09/03/VLAN%E6%8A%80%E6%9C%AF/" title="VLAN技术"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-03</div><div class="title">VLAN技术</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./assets/lbxw.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">别看了，去玩会吧</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(null) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#RIP%EF%BC%88Routing-Information-Protocol%EF%BC%89%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">RIP（Routing Information Protocol）路由协议笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81RIP%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">一、RIP协议概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%A0%B8%E5%BF%83%E5%AE%9A%E4%B9%89%E4%B8%8E%E5%AE%9A%E4%BD%8D"><span class="toc-number">1.1.1.</span> <span class="toc-text">（一）核心定义与定位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%85%B3%E9%94%AE%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.2.</span> <span class="toc-text">（二）关键特性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81RIP%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">二、RIP工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%B7%AF%E7%94%B1%E8%A1%A8%E7%9A%84%E5%BD%A2%E6%88%90%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">（一）路由表的形成过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.2.</span> <span class="toc-text">（二）路由环路问题与解决机制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81RIPv1%E4%B8%8ERIPv2%E7%9A%84%E6%A0%B8%E5%BF%83%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.</span> <span class="toc-text">三、RIPv1与RIPv2的核心区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%E5%B7%AE%E5%BC%82%E8%A1%A5%E5%85%85%EF%BC%9A"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">报文格式差异补充：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81RIP%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE%EF%BC%88%E5%8D%8E%E4%B8%BAVRP%E7%B3%BB%E7%BB%9F%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">四、RIP协议配置（华为VRP系统）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%EF%BC%9ARIPv2%E9%83%A8%E7%BD%B2"><span class="toc-number">1.4.1.</span> <span class="toc-text">（一）基础配置：RIPv2部署</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-RTA%E9%85%8D%E7%BD%AE%EF%BC%88%E6%80%BB%E9%83%A8%E8%B7%AF%E7%94%B1%E5%99%A8%EF%BC%89"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">1. RTA配置（总部路由器）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-RTB%E9%85%8D%E7%BD%AE%EF%BC%88%E4%B8%AD%E9%97%B4%E8%B7%AF%E7%94%B1%E5%99%A8%EF%BC%89"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">2. RTB配置（中间路由器）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-RTC%E9%85%8D%E7%BD%AE%EF%BC%88%E5%88%86%E6%94%AF%E8%B7%AF%E7%94%B1%E5%99%A8%EF%BC%89"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">3. RTC配置（分支路由器）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E9%85%8D%E7%BD%AE%E9%AA%8C%E8%AF%81"><span class="toc-number">1.4.2.</span> <span class="toc-text">（二）配置验证</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9F%A5%E7%9C%8BRIP%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">1. 查看RIP进程信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9F%A5%E7%9C%8BRIP%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">2. 查看RIP路由表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E5%85%A8%E5%B1%80%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">3. 查看全局路由表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.3.</span> <span class="toc-text">（三）高级配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88%EF%BC%88RIPv2%EF%BC%89"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">1. 路由聚合（RIPv2）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%8E%A5%E5%8F%A3%E9%99%84%E5%8A%A0%E5%BA%A6%E9%87%8F%E5%80%BC"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">2. 接口附加度量值</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">操作配置</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/17/%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E%E5%87%BA%E7%8E%B0%E5%9C%B0%E6%96%B9%E5%8F%8A%E6%95%B4%E6%94%B9/" title="常见漏洞出现地方及整改">常见漏洞出现地方及整改</a><time datetime="2025-10-17T01:26:13.000Z" title="发表于 2025-10-17 09:26:13">2025-10-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/xxe/" title="xxe">xxe</a><time datetime="2025-09-15T08:45:22.000Z" title="发表于 2025-09-15 16:45:22">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/" title="逻辑漏洞">逻辑漏洞</a><time datetime="2025-09-15T08:42:57.000Z" title="发表于 2025-09-15 16:42:57">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" title="暴力破解">暴力破解</a><time datetime="2025-09-15T08:36:51.000Z" title="发表于 2025-09-15 16:36:51">2025-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/09/15/sqlmap%E7%9A%84%E4%BD%BF%E7%94%A8/" title="sqlmap的使用">sqlmap的使用</a><time datetime="2025-09-15T08:31:28.000Z" title="发表于 2025-09-15 16:31:28">2025-09-15</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 - 2025 By <a class="footer-bar-link" href="/" title="蜡笔小王" target="_blank">蜡笔小王</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">5</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="安知鱼的博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="安知鱼的博客"/><span class="back-menu-item-text">安知鱼的博客</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>1</sup></a><a href="/tags/SQL%E6%B3%A8%E5%85%A5/" style="font-size: 0.88rem;">SQL注入<sup>2</sup></a><a href="/tags/windows/" style="font-size: 0.88rem;">windows<sup>1</sup></a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">工具<sup>1</sup></a><a href="/tags/%E6%BC%8F%E6%B4%9E/" style="font-size: 0.88rem;">漏洞<sup>9</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">网络基础<sup>20</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("12/01/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 蜡笔小王 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>